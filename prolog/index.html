<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<div class="container" style="padding:60px;">

<p><a href="../">< go back</a></p>
<h1>Prolog</h1>

<b>fib1.pl: simple recursive approach</b>
<div class="row">
  <div class="col">
<pre><code>
fib(0, 1) :- !.
fib(1, 1) :- !.
fib(N, F) :-
        N > 1,
        N1 is N-1,
        N2 is N-2,
        fib(N1, F1),
        fib(N2, F2),
        F is F1+F2.
</code>
</pre>
  </div>

  <div class="col">
    <pre><code>
[trace]  ?- fib(3, F).
   Call: (10) fib(3, _28116) ? creep
   Call: (11) 3>1 ? creep
   Exit: (11) 3>1 ? creep
   Call: (11) _30818 is 3+ -1 ? creep
   Exit: (11) 2 is 3+ -1 ? creep
   Call: (11) _32334 is 3+ -2 ? creep
   Exit: (11) 1 is 3+ -2 ? creep
   Call: (11) fib(2, _33844) ? creep
   Call: (12) 2>1 ? creep
   Exit: (12) 2>1 ? creep
   Call: (12) _36114 is 2+ -1 ? creep
   Exit: (12) 1 is 2+ -1 ? creep
   Call: (12) _37630 is 2+ -2 ? creep
   Exit: (12) 0 is 2+ -2 ? creep
   Call: (12) fib(1, _39140) ? creep
   Exit: (12) fib(1, 1) ? creep
   Call: (12) fib(0, _40650) ? creep
   Exit: (12) fib(0, 1) ? creep
   Call: (12) _33844 is 1+1 ? creep
   Exit: (12) 2 is 1+1 ? creep
   Exit: (11) fib(2, 2) ? creep
   Call: (11) fib(1, _44428) ? creep
   Exit: (11) fib(1, 1) ? creep
   Call: (11) _28116 is 2+1 ? creep
   Exit: (11) 3 is 2+1 ? creep
   Exit: (10) fib(3, 3) ? creep
F = 3.
    </code></pre>
  </div>
</div>

<p> Question: What is the above approach's run time in terms of N?
  
</p>

<br>
<br>
<br>
<br>
<br>
<br>
<br>

<b>fib2.pl: recursive bottom-up approach (faster!)</b>
<div class="row">
  <div class="col">
<pre><code>
fib(0, 1) :- !.
fib(1, 1) :- !.
fib(N, F) :-
        fib(1, N, 1, 1, F).

fib(N, N, _, F, F) :- !.
fib(N0, N, F0, F1, F) :-
        N1 is N0 + 1,
        F2 is F0 + F1,
        fib(N1, N, F1, F2, F).
</code></pre>
  </div>
  
  <div class="col">
    <pre><code>
[trace]  ?- fib(3,F).
   Call: (10) fib(3, _25074) ? creep
   Call: (11) fib(1, 3, 1, 1, _25074) ? creep
   Call: (12) _27034 is 1+1 ? creep
   Exit: (12) 2 is 1+1 ? creep
   Call: (12) _28544 is 1+1 ? creep
   Exit: (12) 2 is 1+1 ? creep
   Call: (12) fib(2, 3, 1, 2, _25074) ? creep
   Call: (13) _30832 is 2+1 ? creep
   Exit: (13) 3 is 2+1 ? creep
   Call: (13) _32342 is 1+2 ? creep
   Exit: (13) 3 is 1+2 ? creep
   Call: (13) fib(3, 3, 2, 3, _25074) ? creep
   Exit: (13) fib(3, 3, 2, 3, 3) ? creep
   Exit: (12) fib(2, 3, 1, 2, 3) ? creep
   Exit: (11) fib(1, 3, 1, 1, 3) ? creep
   Exit: (10) fib(3, 3) ? creep
F = 3.

    </code></pre>
  </div>
</div>

<p> Question: What is the above approach's run time in terms of N?
</p>


<br>
<br>
<br>
<b>Additional resources</b>
<ul>
  <li><a href="https://www.ocf.berkeley.edu/~tyfeng/ecs140a/prolog/concise">A Concise Introduction to Prolog</a>, David Matuszek</li>
  <li><a href="https://www.swi-prolog.org/" target="_blank">SWI Prolog documentation</a></li>
</ul>

</div>
